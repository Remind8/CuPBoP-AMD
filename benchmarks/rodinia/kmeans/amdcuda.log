===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ cluster.c -c --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated [-Wdeprecated]
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '--cuda-gpu-arch=sm_35' [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.ii -x c++ cluster.c
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
#include "..." search starts here:
#include <...> search starts here:
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
End of search list.
cluster.c:74:10: fatal error: 'omp.h' file not found
#include <omp.h>
         ^~~~~~~
1 error generated.

Program exited with code: 1
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ cluster.c -c --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated [-Wdeprecated]
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '--cuda-gpu-arch=sm_35' [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.ii -x c++ cluster.c
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
#include "..." search starts here:
#include <...> search starts here:
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
End of search list.
cluster.c:74:10: fatal error: 'omp.h' file not found
#include "omp.h"
         ^~~~~~~
1 error generated.

Program exited with code: 1
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ cluster.c -c --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated [-Wdeprecated]
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '--cuda-gpu-arch=sm_35' [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.ii -x c++ cluster.c
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
#include "..." search starts here:
#include <...> search starts here:
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.bc -x c++-cpp-output cluster.ii
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
cluster.c:111:3: error: use of undeclared identifier 'allocateMemory'
  allocateMemory(npoints, nfeatures, nclusters, features);
  ^
cluster.c:149:3: error: use of undeclared identifier 'deallocateMemory'
  deallocateMemory();
  ^
2 errors generated.

Program exited with code: 1
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ kmeans_cuda.cu -c --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=9176d120c2261849 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -cuid=9176d120c2261849 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc -x cuda-cpp-output kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for sm_35.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=9176d120c2261849 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s -x ir kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/cuda-11.5/bin/ptxas" -m64 -O0 -v --gpu-name sm_35 --output-file kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
ptxas info    : 4 bytes gmem, 4352 bytes cmem[3]
ptxas info    : Compiling entry function '_Z11kmeansPointPfiiiPiS_S_S0_' for 'sm_35'
ptxas info    : Function properties for _Z11kmeansPointPfiiiPiS_S_S0_
    240 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 19 registers, 380 bytes cmem[0], 1 textures
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Compiling entry function '_Z14invert_mappingPfS_ii' for 'sm_35'
ptxas info    : Function properties for _Z14invert_mappingPfS_ii
    32 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 12 registers, 344 bytes cmem[0]
 "/nethome/jchen706/cuda-11.5/bin/fatbinary" -64 --create kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin --image=profile=sm_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin --image=profile=compute_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -fcuda-include-gpubinary kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.bc -x cuda-cpp-output kmeans_cuda-host-x86_64-unknown-linux-gnu.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for host.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.s -x ir kmeans_cuda-host-x86_64-unknown-linux-gnu.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o kmeans_cuda.o kmeans_cuda-host-x86_64-unknown-linux-gnu.s

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/kernelTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

Identified a new cuda kernel _Z14invert_mappingPfS_ii
Called replace_intrinsics on _Z14invert_mappingPfS_ii
Running vprintf pass on function _Z14invert_mappingPfS_ii
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
math fn pass
Called replace_intrinsics on _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workitem.id.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workgroup.id.x
math fn pass
Identified a new cuda kernel _Z11kmeansPointPfiiiPiS_S_S0_
Called replace_intrinsics on _Z11kmeansPointPfiiiPiS_S_S0_
Running vprintf pass on function _Z11kmeansPointPfiiiPiS_S_S0_
Called function: _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.nvvm.texsurf.handle.internal.p1
Called function: _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
math fn pass
Called replace_intrinsics on _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.nctaid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: llvm.amdgcn.workgroup.id.y
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.y
math fn pass
Called replace_intrinsics on _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Running vprintf pass on function _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Called function: _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Called function: _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Called function: _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Called function: _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
math fn pass
Running Shared Memory Process on Module 
Constant Memory Variable: c_clusters
Address Space Cast on _Z14invert_mappingPfS_ii
Get all the type of each parameter 
ptr 1 
ptr 1 
i32 1 
i32 1 
Instruction:   %5 = alloca ptr, align 8Function Argument Number 4 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %8 = alloca ptr, align 8ptr 4 

Instruction:   %11 = alloca i32, align 4ptr 4 

Instruction:   %14 = alloca i32, align 4ptr 4 

Instruction:   %17 = alloca i32, align 4ptr 4 

Instruction:   %20 = alloca i32, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %6, align 8
ptr addrspace(1) %0 
Instruction2:   store ptr addrspace(1) %1, ptr %9, align 8
ptr addrspace(1) %1 
Instruction2:   store i32 %2, ptr %12, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %15, align 4
i32 %3Remove the casted instructions
Address Space Cast on _Z11kmeansPointPfiiiPiS_S_S0_
Get all the type of each parameter 
ptr 1 
i32 1 
i32 1 
i32 1 
ptr 1 
ptr 1 
ptr 1 
ptr 1 
 
Instruction:   %9 = alloca ptr, align 8Function Argument Number 8 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %12 = alloca i32, align 4ptr 4 

Instruction:   %15 = alloca i32, align 4ptr 4 

Instruction:   %18 = alloca i32, align 4ptr 4 

Instruction:   %21 = alloca ptr, align 8ptr 4 

Instruction:   %24 = alloca ptr, align 8ptr 4 

Instruction:   %27 = alloca ptr, align 8ptr 4 

Instruction:   %30 = alloca ptr, align 8ptr 4 

Instruction:   %33 = alloca i32, align 4ptr 4 

Instruction:   %36 = alloca i32, align 4ptr 4 

Instruction:   %39 = alloca i32, align 4ptr 4 

Instruction:   %42 = alloca i32, align 4ptr 4 

Instruction:   %45 = alloca i32, align 4ptr 4 

Instruction:   %48 = alloca float, align 4ptr 4 

Instruction:   %51 = alloca float, align 4ptr 4 

Instruction:   %54 = alloca i32, align 4ptr 4 

Instruction:   %57 = alloca float, align 4ptr 4 

Instruction:   %60 = alloca i32, align 4ptr 4 

Instruction:   %63 = alloca float, align 4ptr 4 

Instruction:   %66 = alloca i64, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %10, align 8
ptr addrspace(1) %0 
Instruction2:   store i32 %1, ptr %13, align 4
i32 %1 
Instruction2:   store i32 %2, ptr %16, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %19, align 4
i32 %3 
Instruction2:   store ptr addrspace(1) %4, ptr %22, align 8
ptr addrspace(1) %4 
Instruction2:   store ptr addrspace(1) %5, ptr %25, align 8
ptr addrspace(1) %5 
Instruction2:   store ptr addrspace(1) %6, ptr %28, align 8
ptr addrspace(1) %6 
Instruction2:   store ptr addrspace(1) %7, ptr %31, align 8
ptr addrspace(1) %7Remove the casted instructions
Change Atomics
Function: _Z14invert_mappingPfS_ii
Function: _Z11kmeansPointPfiiiPiS_S_S0_
Running Texture Memory Process on Module 
 3 t_features
t_features_flipped
t_clusters
Function: _Z14invert_mappingPfS_ii
 
 First   %5 = alloca ptr, align 8, addrspace(5) 
  %40 = getelementptr inbounds float, ptr %33, i64 %39kernelTranslator: /nethome/jchen706/opt/llvm/include/llvm/Support/Casting.h:578: decltype(auto) llvm::cast(From*) [with To = llvm::StructType; From = const llvm::Type]: Assertion `isa<To>(Val) && "cast<Ty>() argument of incompatible type!"' failed.

Program exited with code: 134
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ kmeans_cuda.cu -c --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=9176d120c2261849 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -cuid=9176d120c2261849 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc -x cuda-cpp-output kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for sm_35.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=9176d120c2261849 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s -x ir kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/cuda-11.5/bin/ptxas" -m64 -O0 -v --gpu-name sm_35 --output-file kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
ptxas info    : 4 bytes gmem, 4352 bytes cmem[3]
ptxas info    : Compiling entry function '_Z11kmeansPointPfiiiPiS_S_S0_' for 'sm_35'
ptxas info    : Function properties for _Z11kmeansPointPfiiiPiS_S_S0_
    240 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 19 registers, 380 bytes cmem[0], 1 textures
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Compiling entry function '_Z14invert_mappingPfS_ii' for 'sm_35'
ptxas info    : Function properties for _Z14invert_mappingPfS_ii
    32 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 12 registers, 344 bytes cmem[0]
 "/nethome/jchen706/cuda-11.5/bin/fatbinary" -64 --create kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin --image=profile=sm_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin --image=profile=compute_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -fcuda-include-gpubinary kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.bc -x cuda-cpp-output kmeans_cuda-host-x86_64-unknown-linux-gnu.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for host.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.s -x ir kmeans_cuda-host-x86_64-unknown-linux-gnu.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o kmeans_cuda.o kmeans_cuda-host-x86_64-unknown-linux-gnu.s

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/kernelTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

kernelTranslator: /nethome/jchen706/coding/code2/amdcuda/compilation/KernelTranslation.cpp:51: llvm::Pass* createRegisteredPass(std::__cxx11::string): Assertion `registeredPassInfo != nullptr' failed.

Program exited with code: 134
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ kmeans_cuda.cu -c --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=9176d120c2261849 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -cuid=9176d120c2261849 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc -x cuda-cpp-output kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for sm_35.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=9176d120c2261849 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s -x ir kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/cuda-11.5/bin/ptxas" -m64 -O0 -v --gpu-name sm_35 --output-file kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
ptxas info    : 4 bytes gmem, 4352 bytes cmem[3]
ptxas info    : Compiling entry function '_Z11kmeansPointPfiiiPiS_S_S0_' for 'sm_35'
ptxas info    : Function properties for _Z11kmeansPointPfiiiPiS_S_S0_
    240 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 19 registers, 380 bytes cmem[0], 1 textures
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Compiling entry function '_Z14invert_mappingPfS_ii' for 'sm_35'
ptxas info    : Function properties for _Z14invert_mappingPfS_ii
    32 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 12 registers, 344 bytes cmem[0]
 "/nethome/jchen706/cuda-11.5/bin/fatbinary" -64 --create kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin --image=profile=sm_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin --image=profile=compute_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -fcuda-include-gpubinary kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.bc -x cuda-cpp-output kmeans_cuda-host-x86_64-unknown-linux-gnu.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for host.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.s -x ir kmeans_cuda-host-x86_64-unknown-linux-gnu.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o kmeans_cuda.o kmeans_cuda-host-x86_64-unknown-linux-gnu.s

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/kernelTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

Identified a new cuda kernel _Z14invert_mappingPfS_ii
Called replace_intrinsics on _Z14invert_mappingPfS_ii
Running vprintf pass on function _Z14invert_mappingPfS_ii
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
math fn pass
Called replace_intrinsics on _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workitem.id.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workgroup.id.x
math fn pass
Identified a new cuda kernel _Z11kmeansPointPfiiiPiS_S_S0_
Called replace_intrinsics on _Z11kmeansPointPfiiiPiS_S_S0_
Running vprintf pass on function _Z11kmeansPointPfiiiPiS_S_S0_
Called function: _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.nvvm.texsurf.handle.internal.p1
Called function: _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
math fn pass
Called replace_intrinsics on _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.nctaid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: llvm.amdgcn.workgroup.id.y
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.y
math fn pass
Called replace_intrinsics on _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Running vprintf pass on function _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Called function: _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Called function: _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Called function: _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Called function: _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
math fn pass
Running Shared Memory Process on Module 
Constant Memory Variable: c_clusters
Address Space Cast on _Z14invert_mappingPfS_ii
Get all the type of each parameter 
ptr 1 
ptr 1 
i32 1 
i32 1 
Instruction:   %5 = alloca ptr, align 8Function Argument Number 4 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %8 = alloca ptr, align 8ptr 4 

Instruction:   %11 = alloca i32, align 4ptr 4 

Instruction:   %14 = alloca i32, align 4ptr 4 

Instruction:   %17 = alloca i32, align 4ptr 4 

Instruction:   %20 = alloca i32, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %6, align 8
ptr addrspace(1) %0 
Instruction2:   store ptr addrspace(1) %1, ptr %9, align 8
ptr addrspace(1) %1 
Instruction2:   store i32 %2, ptr %12, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %15, align 4
i32 %3Remove the casted instructions
Address Space Cast on _Z11kmeansPointPfiiiPiS_S_S0_
Get all the type of each parameter 
ptr 1 
i32 1 
i32 1 
i32 1 
ptr 1 
ptr 1 
ptr 1 
ptr 1 
 
Instruction:   %9 = alloca ptr, align 8Function Argument Number 8 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %12 = alloca i32, align 4ptr 4 

Instruction:   %15 = alloca i32, align 4ptr 4 

Instruction:   %18 = alloca i32, align 4ptr 4 

Instruction:   %21 = alloca ptr, align 8ptr 4 

Instruction:   %24 = alloca ptr, align 8ptr 4 

Instruction:   %27 = alloca ptr, align 8ptr 4 

Instruction:   %30 = alloca ptr, align 8ptr 4 

Instruction:   %33 = alloca i32, align 4ptr 4 

Instruction:   %36 = alloca i32, align 4ptr 4 

Instruction:   %39 = alloca i32, align 4ptr 4 

Instruction:   %42 = alloca i32, align 4ptr 4 

Instruction:   %45 = alloca i32, align 4ptr 4 

Instruction:   %48 = alloca float, align 4ptr 4 

Instruction:   %51 = alloca float, align 4ptr 4 

Instruction:   %54 = alloca i32, align 4ptr 4 

Instruction:   %57 = alloca float, align 4ptr 4 

Instruction:   %60 = alloca i32, align 4ptr 4 

Instruction:   %63 = alloca float, align 4ptr 4 

Instruction:   %66 = alloca i64, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %10, align 8
ptr addrspace(1) %0 
Instruction2:   store i32 %1, ptr %13, align 4
i32 %1 
Instruction2:   store i32 %2, ptr %16, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %19, align 4
i32 %3 
Instruction2:   store ptr addrspace(1) %4, ptr %22, align 8
ptr addrspace(1) %4 
Instruction2:   store ptr addrspace(1) %5, ptr %25, align 8
ptr addrspace(1) %5 
Instruction2:   store ptr addrspace(1) %6, ptr %28, align 8
ptr addrspace(1) %6 
Instruction2:   store ptr addrspace(1) %7, ptr %31, align 8
ptr addrspace(1) %7Remove the casted instructions
Change Atomics
Function: _Z14invert_mappingPfS_ii
Function: _Z11kmeansPointPfiiiPiS_S_S0_
Running Texture Memory Process on Module 
Number of Texture Memories 3 
t_features
t_features_flipped
t_clusters
Function: _Z14invert_mappingPfS_ii
 
 First   %5 = alloca ptr, align 8, addrspace(5) 
  %40 = getelementptr inbounds float, ptr %33, i64 %39
  %49 = getelementptr inbounds float, ptr %42, i64 %48Function: _Z11kmeansPointPfiiiPiS_S_S0_

 First   %9 = alloca ptr, align 8, addrspace(5) 
@t_features = addrspace(1) externally_initialized global %struct.texture undef foound 

  %93 = load %struct.textureReference, ptr %90, align 88202  %100 = getelementptr inbounds [1088 x float], ptr addrspacecast (ptr addrspace(4) @c_clusters to ptr), i64 0, i64 %99
  %133 = getelementptr inbounds i32, ptr %130, i64 %132

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/llvm-link -o kmeans_cuda-cuda.translated.linked.bc /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll.translated_test.bc /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-gridblock-size.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-math.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cuda2gcn.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/atomic.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureInt2DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat1DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat4_1DReadMode.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple amdgcn-amd-amdhsa -aux-triple x86_64-unknown-linux-gnu -S -main-file-name kmeans_cuda.cu -save-temps=cwd[@] -target-cpu gfx90a -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O3 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -o kmeans_cuda-cuda.translated.s -x ir kmeans_cuda-cuda.translated.linked.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple amdgcn-amd-amdhsa -filetype obj -main-file-name kmeans_cuda.cu -target-cpu gfx90a -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -o kmeans_cuda-cuda.translated.o kmeans_cuda-cuda.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang-offload-bundler -unbundle -type=a -input=/nethome/jchen706/opt/llvm/lib/clang/16.0.0/lib/x86_64-unknown-linux-gnu/libclang_rt.builtins.a -targets=hip-amdgcn-amd-amdhsa-gfx90a -output=libbc-clang_rt.builtins.amdgcn.a -allow-missing-bundles -hip-openmp-compatible
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/lld -flavor gnu --no-undefined -shared -plugin-opt=-amdgpu-internalize-symbols -plugin-opt=mcpu=gfx90a -plugin-opt=O3 -plugin-opt=-amdgpu-early-inline-all=true -plugin-opt=-amdgpu-function-calls=false -save-temps -o kmeans_cuda-cuda.translated.out kmeans_cuda-cuda.translated.o /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ockl.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ocml.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_abi_version_400.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_finite_only_off.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_unsafe_math_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_daz_opt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_correctly_rounded_sqrt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_isa_version_90a.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_wavefrontsize64_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//opencl.bc libbc-clang_rt.builtins.amdgcn.a
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang-offload-bundler -type=o -bundle-align=4096 -targets=host-x86_64-unknown-linux,hipv4-amdgcn-amd-amdhsa--gfx90a -input=/dev/null -input=kmeans_cuda-cuda.translated.out -output=kmeans_cuda-cuda.translated.hipfb
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/hostTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-host-x86_64-unknown-linux-gnu.ll kmeans_cuda-cuda.translated.hipfb
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
argc=3
t_features
t_features_flipped
t_clusters
c_clusters
num_threads_perdim
num_blocks_perdim
num_threads
num_blocks
membership_new
feature_d
feature_flipped_d
membership_d
block_new_centers
clusters_d
block_clusters_d
block_deltas_d
.str
.str.5
.str.6
.str.7
__cuda_fatbin_wrapper
__cuda_gpubin_handle
llvm.global_ctors
_cupbop_amdgpu_fatbin_wrapper

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple x86_64-unknown-linux-gnu -aux-triple amdgcn-amd-amdhsa -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -pic-is-pie -mframe-pointer=none -fmath-errno -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O3 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host.translated.s -x ir /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-host-x86_64-unknown-linux-gnu.ll.translated_test.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -o kmeans_cuda-host.translated.o kmeans_cuda-host.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ cluster.c -c --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated [-Wdeprecated]
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '--cuda-gpu-arch=sm_35' [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.ii -x c++ cluster.c
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
#include "..." search starts here:
#include <...> search starts here:
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.bc -x c++-cpp-output cluster.ii
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
cluster.c:111:3: error: use of undeclared identifier 'allocateMemory'
  allocateMemory(npoints, nfeatures, nclusters, features);
  ^
cluster.c:149:3: error: use of undeclared identifier 'deallocateMemory'
  deallocateMemory();
  ^
2 errors generated.

Program exited with code: 1
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ kmeans_cuda.cu -c --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=9176d120c2261849 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -cuid=9176d120c2261849 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc -x cuda-cpp-output kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for sm_35.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=9176d120c2261849 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s -x ir kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/cuda-11.5/bin/ptxas" -m64 -O0 -v --gpu-name sm_35 --output-file kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
ptxas info    : 4 bytes gmem, 4352 bytes cmem[3]
ptxas info    : Compiling entry function '_Z11kmeansPointPfiiiPiS_S_S0_' for 'sm_35'
ptxas info    : Function properties for _Z11kmeansPointPfiiiPiS_S_S0_
    240 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 19 registers, 380 bytes cmem[0], 1 textures
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Compiling entry function '_Z14invert_mappingPfS_ii' for 'sm_35'
ptxas info    : Function properties for _Z14invert_mappingPfS_ii
    32 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 12 registers, 344 bytes cmem[0]
 "/nethome/jchen706/cuda-11.5/bin/fatbinary" -64 --create kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin --image=profile=sm_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin --image=profile=compute_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -fcuda-include-gpubinary kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.bc -x cuda-cpp-output kmeans_cuda-host-x86_64-unknown-linux-gnu.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for host.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.s -x ir kmeans_cuda-host-x86_64-unknown-linux-gnu.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o kmeans_cuda.o kmeans_cuda-host-x86_64-unknown-linux-gnu.s

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/kernelTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

Identified a new cuda kernel _Z14invert_mappingPfS_ii
Called replace_intrinsics on _Z14invert_mappingPfS_ii
Running vprintf pass on function _Z14invert_mappingPfS_ii
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
math fn pass
Called replace_intrinsics on _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workitem.id.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workgroup.id.x
math fn pass
Identified a new cuda kernel _Z11kmeansPointPfiiiPiS_S_S0_
Called replace_intrinsics on _Z11kmeansPointPfiiiPiS_S_S0_
Running vprintf pass on function _Z11kmeansPointPfiiiPiS_S_S0_
Called function: _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.nvvm.texsurf.handle.internal.p1
Called function: _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
math fn pass
Called replace_intrinsics on _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.nctaid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: llvm.amdgcn.workgroup.id.y
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.y
math fn pass
Called replace_intrinsics on _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Running vprintf pass on function _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Called function: _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Called function: _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Called function: _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Called function: _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
math fn pass
Running Shared Memory Process on Module 
Constant Memory Variable: c_clusters
Address Space Cast on _Z14invert_mappingPfS_ii
Get all the type of each parameter 
ptr 1 
ptr 1 
i32 1 
i32 1 
Instruction:   %5 = alloca ptr, align 8Function Argument Number 4 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %8 = alloca ptr, align 8ptr 4 

Instruction:   %11 = alloca i32, align 4ptr 4 

Instruction:   %14 = alloca i32, align 4ptr 4 

Instruction:   %17 = alloca i32, align 4ptr 4 

Instruction:   %20 = alloca i32, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %6, align 8
ptr addrspace(1) %0 
Instruction2:   store ptr addrspace(1) %1, ptr %9, align 8
ptr addrspace(1) %1 
Instruction2:   store i32 %2, ptr %12, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %15, align 4
i32 %3Remove the casted instructions
Address Space Cast on _Z11kmeansPointPfiiiPiS_S_S0_
Get all the type of each parameter 
ptr 1 
i32 1 
i32 1 
i32 1 
ptr 1 
ptr 1 
ptr 1 
ptr 1 
 
Instruction:   %9 = alloca ptr, align 8Function Argument Number 8 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %12 = alloca i32, align 4ptr 4 

Instruction:   %15 = alloca i32, align 4ptr 4 

Instruction:   %18 = alloca i32, align 4ptr 4 

Instruction:   %21 = alloca ptr, align 8ptr 4 

Instruction:   %24 = alloca ptr, align 8ptr 4 

Instruction:   %27 = alloca ptr, align 8ptr 4 

Instruction:   %30 = alloca ptr, align 8ptr 4 

Instruction:   %33 = alloca i32, align 4ptr 4 

Instruction:   %36 = alloca i32, align 4ptr 4 

Instruction:   %39 = alloca i32, align 4ptr 4 

Instruction:   %42 = alloca i32, align 4ptr 4 

Instruction:   %45 = alloca i32, align 4ptr 4 

Instruction:   %48 = alloca float, align 4ptr 4 

Instruction:   %51 = alloca float, align 4ptr 4 

Instruction:   %54 = alloca i32, align 4ptr 4 

Instruction:   %57 = alloca float, align 4ptr 4 

Instruction:   %60 = alloca i32, align 4ptr 4 

Instruction:   %63 = alloca float, align 4ptr 4 

Instruction:   %66 = alloca i64, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %10, align 8
ptr addrspace(1) %0 
Instruction2:   store i32 %1, ptr %13, align 4
i32 %1 
Instruction2:   store i32 %2, ptr %16, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %19, align 4
i32 %3 
Instruction2:   store ptr addrspace(1) %4, ptr %22, align 8
ptr addrspace(1) %4 
Instruction2:   store ptr addrspace(1) %5, ptr %25, align 8
ptr addrspace(1) %5 
Instruction2:   store ptr addrspace(1) %6, ptr %28, align 8
ptr addrspace(1) %6 
Instruction2:   store ptr addrspace(1) %7, ptr %31, align 8
ptr addrspace(1) %7Remove the casted instructions
Change Atomics
Function: _Z14invert_mappingPfS_ii
Function: _Z11kmeansPointPfiiiPiS_S_S0_
Running Texture Memory Process on Module 
Number of Texture Memories 3 
t_features
t_features_flipped
t_clusters
Function: _Z14invert_mappingPfS_ii
 
 First   %5 = alloca ptr, align 8, addrspace(5) 
  %40 = getelementptr inbounds float, ptr %33, i64 %39
  %49 = getelementptr inbounds float, ptr %42, i64 %48Function: _Z11kmeansPointPfiiiPiS_S_S0_

 First   %9 = alloca ptr, align 8, addrspace(5) 
@t_features = addrspace(1) externally_initialized global %struct.texture undef foound 

  %93 = load %struct.textureReference, ptr %90, align 88202  %100 = getelementptr inbounds [1088 x float], ptr addrspacecast (ptr addrspace(4) @c_clusters to ptr), i64 0, i64 %99
  %133 = getelementptr inbounds i32, ptr %130, i64 %132

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/llvm-link -o kmeans_cuda-cuda.translated.linked.bc /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll.translated_test.bc /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-gridblock-size.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-math.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cuda2gcn.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/atomic.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureInt2DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat1DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat4_1DReadMode.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple amdgcn-amd-amdhsa -aux-triple x86_64-unknown-linux-gnu -S -main-file-name kmeans_cuda.cu -save-temps=cwd[@] -target-cpu gfx90a -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O3 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -o kmeans_cuda-cuda.translated.s -x ir kmeans_cuda-cuda.translated.linked.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple amdgcn-amd-amdhsa -filetype obj -main-file-name kmeans_cuda.cu -target-cpu gfx90a -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -o kmeans_cuda-cuda.translated.o kmeans_cuda-cuda.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang-offload-bundler -unbundle -type=a -input=/nethome/jchen706/opt/llvm/lib/clang/16.0.0/lib/x86_64-unknown-linux-gnu/libclang_rt.builtins.a -targets=hip-amdgcn-amd-amdhsa-gfx90a -output=libbc-clang_rt.builtins.amdgcn.a -allow-missing-bundles -hip-openmp-compatible
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/lld -flavor gnu --no-undefined -shared -plugin-opt=-amdgpu-internalize-symbols -plugin-opt=mcpu=gfx90a -plugin-opt=O3 -plugin-opt=-amdgpu-early-inline-all=true -plugin-opt=-amdgpu-function-calls=false -save-temps -o kmeans_cuda-cuda.translated.out kmeans_cuda-cuda.translated.o /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ockl.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ocml.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_abi_version_400.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_finite_only_off.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_unsafe_math_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_daz_opt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_correctly_rounded_sqrt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_isa_version_90a.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_wavefrontsize64_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//opencl.bc libbc-clang_rt.builtins.amdgcn.a
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang-offload-bundler -type=o -bundle-align=4096 -targets=host-x86_64-unknown-linux,hipv4-amdgcn-amd-amdhsa--gfx90a -input=/dev/null -input=kmeans_cuda-cuda.translated.out -output=kmeans_cuda-cuda.translated.hipfb
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/hostTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-host-x86_64-unknown-linux-gnu.ll kmeans_cuda-cuda.translated.hipfb
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
argc=3
t_features
t_features_flipped
t_clusters
c_clusters
num_threads_perdim
num_blocks_perdim
num_threads
num_blocks
membership_new
feature_d
feature_flipped_d
membership_d
block_new_centers
clusters_d
block_clusters_d
block_deltas_d
.str
.str.5
.str.6
.str.7
__cuda_fatbin_wrapper
__cuda_gpubin_handle
llvm.global_ctors
_cupbop_amdgpu_fatbin_wrapper

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple x86_64-unknown-linux-gnu -aux-triple amdgcn-amd-amdhsa -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -pic-is-pie -mframe-pointer=none -fmath-errno -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O3 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host.translated.s -x ir /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-host-x86_64-unknown-linux-gnu.ll.translated_test.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -o kmeans_cuda-host.translated.o kmeans_cuda-host.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ cluster.c -c --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated [-Wdeprecated]
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '--cuda-gpu-arch=sm_35' [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.ii -x c++ cluster.c
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
#include "..." search starts here:
#include <...> search starts here:
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.bc -x c++-cpp-output cluster.ii
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
cluster.c:111:3: error: use of undeclared identifier 'allocateMemory'
  allocateMemory(npoints, nfeatures, nclusters, features);
  ^
cluster.c:149:3: error: use of undeclared identifier 'deallocateMemory'
  deallocateMemory();
  ^
2 errors generated.

Program exited with code: 1
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ kmeans_cuda.cu -c --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=9176d120c2261849 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -cuid=9176d120c2261849 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc -x cuda-cpp-output kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for sm_35.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=9176d120c2261849 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s -x ir kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/cuda-11.5/bin/ptxas" -m64 -O0 -v --gpu-name sm_35 --output-file kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
ptxas info    : 4 bytes gmem, 4352 bytes cmem[3]
ptxas info    : Compiling entry function '_Z11kmeansPointPfiiiPiS_S_S0_' for 'sm_35'
ptxas info    : Function properties for _Z11kmeansPointPfiiiPiS_S_S0_
    240 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 19 registers, 380 bytes cmem[0], 1 textures
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Compiling entry function '_Z14invert_mappingPfS_ii' for 'sm_35'
ptxas info    : Function properties for _Z14invert_mappingPfS_ii
    32 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 12 registers, 344 bytes cmem[0]
 "/nethome/jchen706/cuda-11.5/bin/fatbinary" -64 --create kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin --image=profile=sm_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin --image=profile=compute_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -fcuda-include-gpubinary kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.bc -x cuda-cpp-output kmeans_cuda-host-x86_64-unknown-linux-gnu.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for host.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=9176d120c2261849 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.s -x ir kmeans_cuda-host-x86_64-unknown-linux-gnu.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o kmeans_cuda.o kmeans_cuda-host-x86_64-unknown-linux-gnu.s

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/kernelTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

Identified a new cuda kernel _Z14invert_mappingPfS_ii
Called replace_intrinsics on _Z14invert_mappingPfS_ii
Running vprintf pass on function _Z14invert_mappingPfS_ii
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
math fn pass
Called replace_intrinsics on _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workitem.id.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workgroup.id.x
math fn pass
Identified a new cuda kernel _Z11kmeansPointPfiiiPiS_S_S0_
Called replace_intrinsics on _Z11kmeansPointPfiiiPiS_S_S0_
Running vprintf pass on function _Z11kmeansPointPfiiiPiS_S_S0_
Called function: _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.nvvm.texsurf.handle.internal.p1
Called function: _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
math fn pass
Called replace_intrinsics on _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.nctaid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: llvm.amdgcn.workgroup.id.y
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.y
math fn pass
Called replace_intrinsics on _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Running vprintf pass on function _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Called function: _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Called function: _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Called function: _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Called function: _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
math fn pass
Running Shared Memory Process on Module 
Constant Memory Variable: c_clusters
Address Space Cast on _Z14invert_mappingPfS_ii
Get all the type of each parameter 
ptr 1 
ptr 1 
i32 1 
i32 1 
Instruction:   %5 = alloca ptr, align 8Function Argument Number 4 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %8 = alloca ptr, align 8ptr 4 

Instruction:   %11 = alloca i32, align 4ptr 4 

Instruction:   %14 = alloca i32, align 4ptr 4 

Instruction:   %17 = alloca i32, align 4ptr 4 

Instruction:   %20 = alloca i32, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %6, align 8
ptr addrspace(1) %0 
Instruction2:   store ptr addrspace(1) %1, ptr %9, align 8
ptr addrspace(1) %1 
Instruction2:   store i32 %2, ptr %12, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %15, align 4
i32 %3Remove the casted instructions
Address Space Cast on _Z11kmeansPointPfiiiPiS_S_S0_
Get all the type of each parameter 
ptr 1 
i32 1 
i32 1 
i32 1 
ptr 1 
ptr 1 
ptr 1 
ptr 1 
 
Instruction:   %9 = alloca ptr, align 8Function Argument Number 8 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %12 = alloca i32, align 4ptr 4 

Instruction:   %15 = alloca i32, align 4ptr 4 

Instruction:   %18 = alloca i32, align 4ptr 4 

Instruction:   %21 = alloca ptr, align 8ptr 4 

Instruction:   %24 = alloca ptr, align 8ptr 4 

Instruction:   %27 = alloca ptr, align 8ptr 4 

Instruction:   %30 = alloca ptr, align 8ptr 4 

Instruction:   %33 = alloca i32, align 4ptr 4 

Instruction:   %36 = alloca i32, align 4ptr 4 

Instruction:   %39 = alloca i32, align 4ptr 4 

Instruction:   %42 = alloca i32, align 4ptr 4 

Instruction:   %45 = alloca i32, align 4ptr 4 

Instruction:   %48 = alloca float, align 4ptr 4 

Instruction:   %51 = alloca float, align 4ptr 4 

Instruction:   %54 = alloca i32, align 4ptr 4 

Instruction:   %57 = alloca float, align 4ptr 4 

Instruction:   %60 = alloca i32, align 4ptr 4 

Instruction:   %63 = alloca float, align 4ptr 4 

Instruction:   %66 = alloca i64, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %10, align 8
ptr addrspace(1) %0 
Instruction2:   store i32 %1, ptr %13, align 4
i32 %1 
Instruction2:   store i32 %2, ptr %16, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %19, align 4
i32 %3 
Instruction2:   store ptr addrspace(1) %4, ptr %22, align 8
ptr addrspace(1) %4 
Instruction2:   store ptr addrspace(1) %5, ptr %25, align 8
ptr addrspace(1) %5 
Instruction2:   store ptr addrspace(1) %6, ptr %28, align 8
ptr addrspace(1) %6 
Instruction2:   store ptr addrspace(1) %7, ptr %31, align 8
ptr addrspace(1) %7Remove the casted instructions
Change Atomics
Function: _Z14invert_mappingPfS_ii
Function: _Z11kmeansPointPfiiiPiS_S_S0_
Running Texture Memory Process on Module 
Number of Texture Memories 3 
t_features
t_features_flipped
t_clusters
Function: _Z14invert_mappingPfS_ii
 
 First   %5 = alloca ptr, align 8, addrspace(5) 
  %40 = getelementptr inbounds float, ptr %33, i64 %39
  %49 = getelementptr inbounds float, ptr %42, i64 %48Function: _Z11kmeansPointPfiiiPiS_S_S0_

 First   %9 = alloca ptr, align 8, addrspace(5) 
@t_features = addrspace(1) externally_initialized global %struct.texture undef foound 

  %93 = load %struct.textureReference, ptr %90, align 88202  %100 = getelementptr inbounds [1088 x float], ptr addrspacecast (ptr addrspace(4) @c_clusters to ptr), i64 0, i64 %99
  %133 = getelementptr inbounds i32, ptr %130, i64 %132

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/llvm-link -o kmeans_cuda-cuda.translated.linked.bc /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll.translated_test.bc /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-gridblock-size.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-math.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cuda2gcn.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/atomic.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureInt2DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat1DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat4_1DReadMode.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple amdgcn-amd-amdhsa -aux-triple x86_64-unknown-linux-gnu -S -main-file-name kmeans_cuda.cu -save-temps=cwd[@] -target-cpu gfx90a -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O3 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -o kmeans_cuda-cuda.translated.s -x ir kmeans_cuda-cuda.translated.linked.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple amdgcn-amd-amdhsa -filetype obj -main-file-name kmeans_cuda.cu -target-cpu gfx90a -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -o kmeans_cuda-cuda.translated.o kmeans_cuda-cuda.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang-offload-bundler -unbundle -type=a -input=/nethome/jchen706/opt/llvm/lib/clang/16.0.0/lib/x86_64-unknown-linux-gnu/libclang_rt.builtins.a -targets=hip-amdgcn-amd-amdhsa-gfx90a -output=libbc-clang_rt.builtins.amdgcn.a -allow-missing-bundles -hip-openmp-compatible
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/lld -flavor gnu --no-undefined -shared -plugin-opt=-amdgpu-internalize-symbols -plugin-opt=mcpu=gfx90a -plugin-opt=O3 -plugin-opt=-amdgpu-early-inline-all=true -plugin-opt=-amdgpu-function-calls=false -save-temps -o kmeans_cuda-cuda.translated.out kmeans_cuda-cuda.translated.o /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ockl.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ocml.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_abi_version_400.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_finite_only_off.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_unsafe_math_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_daz_opt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_correctly_rounded_sqrt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_isa_version_90a.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_wavefrontsize64_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//opencl.bc libbc-clang_rt.builtins.amdgcn.a
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang-offload-bundler -type=o -bundle-align=4096 -targets=host-x86_64-unknown-linux,hipv4-amdgcn-amd-amdhsa--gfx90a -input=/dev/null -input=kmeans_cuda-cuda.translated.out -output=kmeans_cuda-cuda.translated.hipfb
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/hostTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-host-x86_64-unknown-linux-gnu.ll kmeans_cuda-cuda.translated.hipfb
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
argc=3
t_features
t_features_flipped
t_clusters
c_clusters
num_threads_perdim
num_blocks_perdim
num_threads
num_blocks
membership_new
feature_d
feature_flipped_d
membership_d
block_new_centers
clusters_d
block_clusters_d
block_deltas_d
.str
.str.5
.str.6
.str.7
__cuda_fatbin_wrapper
__cuda_gpubin_handle
llvm.global_ctors
_cupbop_amdgpu_fatbin_wrapper

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple x86_64-unknown-linux-gnu -aux-triple amdgcn-amd-amdhsa -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -pic-is-pie -mframe-pointer=none -fmath-errno -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O3 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host.translated.s -x ir /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-host-x86_64-unknown-linux-gnu.ll.translated_test.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -o kmeans_cuda-host.translated.o kmeans_cuda-host.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ cluster.c -c --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated [-Wdeprecated]
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '--cuda-gpu-arch=sm_35' [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.ii -x c++ cluster.c
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
#include "..." search starts here:
#include <...> search starts here:
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.bc -x c++-cpp-output cluster.ii
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.s -x ir cluster.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name cluster.c -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o cluster.o cluster.s

Program exited with code: 0
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ kmeans_cuda.cu -c -O0 --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc -x cuda-cpp-output kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for sm_35.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s -x ir kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/cuda-11.5/bin/ptxas" -m64 -O0 -v --gpu-name sm_35 --output-file kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
ptxas info    : 4 bytes gmem, 4352 bytes cmem[3]
ptxas info    : Compiling entry function '_Z11kmeansPointPfiiiPiS_S_S0_' for 'sm_35'
ptxas info    : Function properties for _Z11kmeansPointPfiiiPiS_S_S0_
    240 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 19 registers, 380 bytes cmem[0], 1 textures
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Compiling entry function '_Z14invert_mappingPfS_ii' for 'sm_35'
ptxas info    : Function properties for _Z14invert_mappingPfS_ii
    32 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 12 registers, 344 bytes cmem[0]
 "/nethome/jchen706/cuda-11.5/bin/fatbinary" -64 --create kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin --image=profile=sm_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin --image=profile=compute_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -fcuda-include-gpubinary kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.bc -x cuda-cpp-output kmeans_cuda-host-x86_64-unknown-linux-gnu.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for host.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.s -x ir kmeans_cuda-host-x86_64-unknown-linux-gnu.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o kmeans_cuda.o kmeans_cuda-host-x86_64-unknown-linux-gnu.s

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/kernelTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

Identified a new cuda kernel _Z14invert_mappingPfS_ii
Called replace_intrinsics on _Z14invert_mappingPfS_ii
Running vprintf pass on function _Z14invert_mappingPfS_ii
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
math fn pass
Called replace_intrinsics on _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workitem.id.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workgroup.id.x
math fn pass
Identified a new cuda kernel _Z11kmeansPointPfiiiPiS_S_S0_
Called replace_intrinsics on _Z11kmeansPointPfiiiPiS_S_S0_
Running vprintf pass on function _Z11kmeansPointPfiiiPiS_S_S0_
Called function: _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.nvvm.texsurf.handle.internal.p1
Called function: _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
math fn pass
Called replace_intrinsics on _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.nctaid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: llvm.amdgcn.workgroup.id.y
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.y
math fn pass
Called replace_intrinsics on _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Running vprintf pass on function _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Called function: _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Called function: _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Called function: _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Called function: _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
math fn pass
Running Shared Memory Process on Module 
Constant Memory Variable: c_clusters
Address Space Cast on _Z14invert_mappingPfS_ii
Get all the type of each parameter 
ptr 1 
ptr 1 
i32 1 
i32 1 
Instruction:   %5 = alloca ptr, align 8Function Argument Number 4 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %8 = alloca ptr, align 8ptr 4 

Instruction:   %11 = alloca i32, align 4ptr 4 

Instruction:   %14 = alloca i32, align 4ptr 4 

Instruction:   %17 = alloca i32, align 4ptr 4 

Instruction:   %20 = alloca i32, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %6, align 8
ptr addrspace(1) %0 
Instruction2:   store ptr addrspace(1) %1, ptr %9, align 8
ptr addrspace(1) %1 
Instruction2:   store i32 %2, ptr %12, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %15, align 4
i32 %3Remove the casted instructions
Address Space Cast on _Z11kmeansPointPfiiiPiS_S_S0_
Get all the type of each parameter 
ptr 1 
i32 1 
i32 1 
i32 1 
ptr 1 
ptr 1 
ptr 1 
ptr 1 
 
Instruction:   %9 = alloca ptr, align 8Function Argument Number 8 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %12 = alloca i32, align 4ptr 4 

Instruction:   %15 = alloca i32, align 4ptr 4 

Instruction:   %18 = alloca i32, align 4ptr 4 

Instruction:   %21 = alloca ptr, align 8ptr 4 

Instruction:   %24 = alloca ptr, align 8ptr 4 

Instruction:   %27 = alloca ptr, align 8ptr 4 

Instruction:   %30 = alloca ptr, align 8ptr 4 

Instruction:   %33 = alloca i32, align 4ptr 4 

Instruction:   %36 = alloca i32, align 4ptr 4 

Instruction:   %39 = alloca i32, align 4ptr 4 

Instruction:   %42 = alloca i32, align 4ptr 4 

Instruction:   %45 = alloca i32, align 4ptr 4 

Instruction:   %48 = alloca float, align 4ptr 4 

Instruction:   %51 = alloca float, align 4ptr 4 

Instruction:   %54 = alloca i32, align 4ptr 4 

Instruction:   %57 = alloca float, align 4ptr 4 

Instruction:   %60 = alloca i32, align 4ptr 4 

Instruction:   %63 = alloca float, align 4ptr 4 

Instruction:   %66 = alloca i64, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %10, align 8
ptr addrspace(1) %0 
Instruction2:   store i32 %1, ptr %13, align 4
i32 %1 
Instruction2:   store i32 %2, ptr %16, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %19, align 4
i32 %3 
Instruction2:   store ptr addrspace(1) %4, ptr %22, align 8
ptr addrspace(1) %4 
Instruction2:   store ptr addrspace(1) %5, ptr %25, align 8
ptr addrspace(1) %5 
Instruction2:   store ptr addrspace(1) %6, ptr %28, align 8
ptr addrspace(1) %6 
Instruction2:   store ptr addrspace(1) %7, ptr %31, align 8
ptr addrspace(1) %7Remove the casted instructions
Change Atomics
Function: _Z14invert_mappingPfS_ii
Function: _Z11kmeansPointPfiiiPiS_S_S0_
Running Texture Memory Process on Module 
Number of Texture Memories 3 
t_features
t_features_flipped
t_clusters
Function: _Z14invert_mappingPfS_ii
 
 First   %5 = alloca ptr, align 8, addrspace(5) 
  %40 = getelementptr inbounds float, ptr %33, i64 %39
  %49 = getelementptr inbounds float, ptr %42, i64 %48Function: _Z11kmeansPointPfiiiPiS_S_S0_

 First   %9 = alloca ptr, align 8, addrspace(5) 
@t_features = addrspace(1) externally_initialized global %struct.texture undef foound 

  %93 = load %struct.textureReference, ptr %90, align 88202  %100 = getelementptr inbounds [1088 x float], ptr addrspacecast (ptr addrspace(4) @c_clusters to ptr), i64 0, i64 %99
  %133 = getelementptr inbounds i32, ptr %130, i64 %132

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/llvm-link -o kmeans_cuda-cuda.translated.linked.bc /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll.translated_test.bc /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-gridblock-size.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-math.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cuda2gcn.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/atomic.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureInt2DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat1DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat4_1DReadMode.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple amdgcn-amd-amdhsa -aux-triple x86_64-unknown-linux-gnu -S -main-file-name kmeans_cuda.cu -save-temps=cwd[@] -O0 -target-cpu gfx90a -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -o kmeans_cuda-cuda.translated.s -x ir kmeans_cuda-cuda.translated.linked.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple amdgcn-amd-amdhsa -filetype obj -main-file-name kmeans_cuda.cu -target-cpu gfx90a -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -o kmeans_cuda-cuda.translated.o kmeans_cuda-cuda.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang-offload-bundler -unbundle -type=a -input=/nethome/jchen706/opt/llvm/lib/clang/16.0.0/lib/x86_64-unknown-linux-gnu/libclang_rt.builtins.a -targets=hip-amdgcn-amd-amdhsa-gfx90a -output=libbc-clang_rt.builtins.amdgcn.a -allow-missing-bundles -hip-openmp-compatible
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/lld -flavor gnu --no-undefined -shared -plugin-opt=-amdgpu-internalize-symbols -plugin-opt=mcpu=gfx90a -plugin-opt=O0 -plugin-opt=-amdgpu-early-inline-all=true -plugin-opt=-amdgpu-function-calls=false -save-temps -o kmeans_cuda-cuda.translated.out kmeans_cuda-cuda.translated.o /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ockl.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ocml.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_abi_version_400.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_finite_only_off.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_unsafe_math_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_daz_opt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_correctly_rounded_sqrt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_isa_version_90a.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_wavefrontsize64_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//opencl.bc libbc-clang_rt.builtins.amdgcn.a
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

lld: error: relocation R_AMDGPU_REL32_LO cannot be used against symbol 'c_clusters'; recompile with -fPIC
>>> defined in kmeans_cuda-cuda.translated.o
>>> referenced by kmeans_cuda-cuda.translated.o:(_Z11kmeansPointPfiiiPiS_S_S0_$local)

lld: error: relocation R_AMDGPU_REL32_HI cannot be used against symbol 'c_clusters'; recompile with -fPIC
>>> defined in kmeans_cuda-cuda.translated.o
>>> referenced by kmeans_cuda-cuda.translated.o:(_Z11kmeansPointPfiiiPiS_S_S0_$local)

Program exited with code: 1
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ kmeans_cuda.cu -c -O0 --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc -x cuda-cpp-output kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for sm_35.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s -x ir kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/cuda-11.5/bin/ptxas" -m64 -O0 -v --gpu-name sm_35 --output-file kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
ptxas info    : 4 bytes gmem, 4352 bytes cmem[3]
ptxas info    : Compiling entry function '_Z11kmeansPointPfiiiPiS_S_S0_' for 'sm_35'
ptxas info    : Function properties for _Z11kmeansPointPfiiiPiS_S_S0_
    240 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 19 registers, 380 bytes cmem[0], 1 textures
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Compiling entry function '_Z14invert_mappingPfS_ii' for 'sm_35'
ptxas info    : Function properties for _Z14invert_mappingPfS_ii
    32 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 12 registers, 344 bytes cmem[0]
 "/nethome/jchen706/cuda-11.5/bin/fatbinary" -64 --create kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin --image=profile=sm_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin --image=profile=compute_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -fcuda-include-gpubinary kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.bc -x cuda-cpp-output kmeans_cuda-host-x86_64-unknown-linux-gnu.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for host.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.s -x ir kmeans_cuda-host-x86_64-unknown-linux-gnu.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o kmeans_cuda.o kmeans_cuda-host-x86_64-unknown-linux-gnu.s

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/kernelTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

Identified a new cuda kernel _Z14invert_mappingPfS_ii
Called replace_intrinsics on _Z14invert_mappingPfS_ii
Running vprintf pass on function _Z14invert_mappingPfS_ii
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
math fn pass
Called replace_intrinsics on _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workitem.id.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workgroup.id.x
math fn pass
Identified a new cuda kernel _Z11kmeansPointPfiiiPiS_S_S0_
Called replace_intrinsics on _Z11kmeansPointPfiiiPiS_S_S0_
Running vprintf pass on function _Z11kmeansPointPfiiiPiS_S_S0_
Called function: _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.nvvm.texsurf.handle.internal.p1
Called function: _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
math fn pass
Called replace_intrinsics on _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.nctaid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: llvm.amdgcn.workgroup.id.y
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.y
math fn pass
Called replace_intrinsics on _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Running vprintf pass on function _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Called function: _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Called function: _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Called function: _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Called function: _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
math fn pass
Running Shared Memory Process on Module 
Constant Memory Variable: c_clusters
Address Space Cast on _Z14invert_mappingPfS_ii
Get all the type of each parameter 
ptr 1 
ptr 1 
i32 1 
i32 1 
Instruction:   %5 = alloca ptr, align 8Function Argument Number 4 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %8 = alloca ptr, align 8ptr 4 

Instruction:   %11 = alloca i32, align 4ptr 4 

Instruction:   %14 = alloca i32, align 4ptr 4 

Instruction:   %17 = alloca i32, align 4ptr 4 

Instruction:   %20 = alloca i32, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %6, align 8
ptr addrspace(1) %0 
Instruction2:   store ptr addrspace(1) %1, ptr %9, align 8
ptr addrspace(1) %1 
Instruction2:   store i32 %2, ptr %12, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %15, align 4
i32 %3Remove the casted instructions
Address Space Cast on _Z11kmeansPointPfiiiPiS_S_S0_
Get all the type of each parameter 
ptr 1 
i32 1 
i32 1 
i32 1 
ptr 1 
ptr 1 
ptr 1 
ptr 1 
 
Instruction:   %9 = alloca ptr, align 8Function Argument Number 8 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %12 = alloca i32, align 4ptr 4 

Instruction:   %15 = alloca i32, align 4ptr 4 

Instruction:   %18 = alloca i32, align 4ptr 4 

Instruction:   %21 = alloca ptr, align 8ptr 4 

Instruction:   %24 = alloca ptr, align 8ptr 4 

Instruction:   %27 = alloca ptr, align 8ptr 4 

Instruction:   %30 = alloca ptr, align 8ptr 4 

Instruction:   %33 = alloca i32, align 4ptr 4 

Instruction:   %36 = alloca i32, align 4ptr 4 

Instruction:   %39 = alloca i32, align 4ptr 4 

Instruction:   %42 = alloca i32, align 4ptr 4 

Instruction:   %45 = alloca i32, align 4ptr 4 

Instruction:   %48 = alloca float, align 4ptr 4 

Instruction:   %51 = alloca float, align 4ptr 4 

Instruction:   %54 = alloca i32, align 4ptr 4 

Instruction:   %57 = alloca float, align 4ptr 4 

Instruction:   %60 = alloca i32, align 4ptr 4 

Instruction:   %63 = alloca float, align 4ptr 4 

Instruction:   %66 = alloca i64, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %10, align 8
ptr addrspace(1) %0 
Instruction2:   store i32 %1, ptr %13, align 4
i32 %1 
Instruction2:   store i32 %2, ptr %16, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %19, align 4
i32 %3 
Instruction2:   store ptr addrspace(1) %4, ptr %22, align 8
ptr addrspace(1) %4 
Instruction2:   store ptr addrspace(1) %5, ptr %25, align 8
ptr addrspace(1) %5 
Instruction2:   store ptr addrspace(1) %6, ptr %28, align 8
ptr addrspace(1) %6 
Instruction2:   store ptr addrspace(1) %7, ptr %31, align 8
ptr addrspace(1) %7Remove the casted instructions
Change Atomics
Function: _Z14invert_mappingPfS_ii
Function: _Z11kmeansPointPfiiiPiS_S_S0_
Running Texture Memory Process on Module 
Number of Texture Memories 3 
t_features
t_features_flipped
t_clusters
Function: _Z14invert_mappingPfS_ii
 
 First   %5 = alloca ptr, align 8, addrspace(5) 
  %40 = getelementptr inbounds float, ptr %33, i64 %39
  %49 = getelementptr inbounds float, ptr %42, i64 %48Function: _Z11kmeansPointPfiiiPiS_S_S0_

 First   %9 = alloca ptr, align 8, addrspace(5) 
@t_features = addrspace(1) externally_initialized global %struct.texture undef foound 

  %93 = load %struct.textureReference, ptr %90, align 88202  %100 = getelementptr inbounds [1088 x float], ptr addrspacecast (ptr addrspace(4) @c_clusters to ptr), i64 0, i64 %99
  %133 = getelementptr inbounds i32, ptr %130, i64 %132

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/llvm-link -o kmeans_cuda-cuda.translated.linked.bc /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll.translated_test.bc /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-gridblock-size.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-math.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cuda2gcn.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/atomic.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureInt2DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat1DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat4_1DReadMode.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple amdgcn-amd-amdhsa -aux-triple x86_64-unknown-linux-gnu -S -main-file-name kmeans_cuda.cu -save-temps=cwd[@] -O0 -target-cpu gfx90a -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -o kmeans_cuda-cuda.translated.s -x ir kmeans_cuda-cuda.translated.linked.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple amdgcn-amd-amdhsa -filetype obj -main-file-name kmeans_cuda.cu -target-cpu gfx90a -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -o kmeans_cuda-cuda.translated.o kmeans_cuda-cuda.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang-offload-bundler -unbundle -type=a -input=/nethome/jchen706/opt/llvm/lib/clang/16.0.0/lib/x86_64-unknown-linux-gnu/libclang_rt.builtins.a -targets=hip-amdgcn-amd-amdhsa-gfx90a -output=libbc-clang_rt.builtins.amdgcn.a -allow-missing-bundles -hip-openmp-compatible
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/lld -flavor gnu --no-undefined -shared -plugin-opt=-amdgpu-internalize-symbols -plugin-opt=mcpu=gfx90a -plugin-opt=O0 -plugin-opt=-amdgpu-early-inline-all=true -plugin-opt=-amdgpu-function-calls=false -save-temps -o kmeans_cuda-cuda.translated.out kmeans_cuda-cuda.translated.o /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ockl.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ocml.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_abi_version_400.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_finite_only_off.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_unsafe_math_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_daz_opt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_correctly_rounded_sqrt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_isa_version_90a.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_wavefrontsize64_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//opencl.bc libbc-clang_rt.builtins.amdgcn.a
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

lld: error: relocation R_AMDGPU_REL32_LO cannot be used against symbol 'c_clusters'; recompile with -fPIC
>>> defined in kmeans_cuda-cuda.translated.o
>>> referenced by kmeans_cuda-cuda.translated.o:(_Z11kmeansPointPfiiiPiS_S_S0_$local)

lld: error: relocation R_AMDGPU_REL32_HI cannot be used against symbol 'c_clusters'; recompile with -fPIC
>>> defined in kmeans_cuda-cuda.translated.o
>>> referenced by kmeans_cuda-cuda.translated.o:(_Z11kmeansPointPfiiiPiS_S_S0_$local)

Program exited with code: 1
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ kmeans_cuda.cu -c -O0 --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc -x cuda-cpp-output kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for sm_35.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s -x ir kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/cuda-11.5/bin/ptxas" -m64 -O0 -v --gpu-name sm_35 --output-file kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
ptxas info    : 4 bytes gmem, 4352 bytes cmem[3]
ptxas info    : Compiling entry function '_Z11kmeansPointPfiiiPiS_S_S0_' for 'sm_35'
ptxas info    : Function properties for _Z11kmeansPointPfiiiPiS_S_S0_
    240 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 19 registers, 380 bytes cmem[0], 1 textures
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Compiling entry function '_Z14invert_mappingPfS_ii' for 'sm_35'
ptxas info    : Function properties for _Z14invert_mappingPfS_ii
    32 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 12 registers, 344 bytes cmem[0]
 "/nethome/jchen706/cuda-11.5/bin/fatbinary" -64 --create kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin --image=profile=sm_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin --image=profile=compute_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -fcuda-include-gpubinary kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.bc -x cuda-cpp-output kmeans_cuda-host-x86_64-unknown-linux-gnu.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for host.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.s -x ir kmeans_cuda-host-x86_64-unknown-linux-gnu.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o kmeans_cuda.o kmeans_cuda-host-x86_64-unknown-linux-gnu.s

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/kernelTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

Identified a new cuda kernel _Z14invert_mappingPfS_ii
Called replace_intrinsics on _Z14invert_mappingPfS_ii
Running vprintf pass on function _Z14invert_mappingPfS_ii
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
math fn pass
Called replace_intrinsics on _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workitem.id.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workgroup.id.x
math fn pass
Identified a new cuda kernel _Z11kmeansPointPfiiiPiS_S_S0_
Called replace_intrinsics on _Z11kmeansPointPfiiiPiS_S_S0_
Running vprintf pass on function _Z11kmeansPointPfiiiPiS_S_S0_
Called function: _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.nvvm.texsurf.handle.internal.p1
Called function: _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
math fn pass
Called replace_intrinsics on _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.nctaid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: llvm.amdgcn.workgroup.id.y
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.y
math fn pass
Called replace_intrinsics on _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Running vprintf pass on function _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Called function: _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Called function: _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Called function: _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Called function: _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
math fn pass
Running Shared Memory Process on Module 
Constant Memory Variable: c_clusters
Address Space Cast on _Z14invert_mappingPfS_ii
Get all the type of each parameter 
ptr 1 
ptr 1 
i32 1 
i32 1 
Instruction:   %5 = alloca ptr, align 8Function Argument Number 4 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %8 = alloca ptr, align 8ptr 4 

Instruction:   %11 = alloca i32, align 4ptr 4 

Instruction:   %14 = alloca i32, align 4ptr 4 

Instruction:   %17 = alloca i32, align 4ptr 4 

Instruction:   %20 = alloca i32, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %6, align 8
ptr addrspace(1) %0 
Instruction2:   store ptr addrspace(1) %1, ptr %9, align 8
ptr addrspace(1) %1 
Instruction2:   store i32 %2, ptr %12, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %15, align 4
i32 %3Remove the casted instructions
Address Space Cast on _Z11kmeansPointPfiiiPiS_S_S0_
Get all the type of each parameter 
ptr 1 
i32 1 
i32 1 
i32 1 
ptr 1 
ptr 1 
ptr 1 
ptr 1 
 
Instruction:   %9 = alloca ptr, align 8Function Argument Number 8 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %12 = alloca i32, align 4ptr 4 

Instruction:   %15 = alloca i32, align 4ptr 4 

Instruction:   %18 = alloca i32, align 4ptr 4 

Instruction:   %21 = alloca ptr, align 8ptr 4 

Instruction:   %24 = alloca ptr, align 8ptr 4 

Instruction:   %27 = alloca ptr, align 8ptr 4 

Instruction:   %30 = alloca ptr, align 8ptr 4 

Instruction:   %33 = alloca i32, align 4ptr 4 

Instruction:   %36 = alloca i32, align 4ptr 4 

Instruction:   %39 = alloca i32, align 4ptr 4 

Instruction:   %42 = alloca i32, align 4ptr 4 

Instruction:   %45 = alloca i32, align 4ptr 4 

Instruction:   %48 = alloca float, align 4ptr 4 

Instruction:   %51 = alloca float, align 4ptr 4 

Instruction:   %54 = alloca i32, align 4ptr 4 

Instruction:   %57 = alloca float, align 4ptr 4 

Instruction:   %60 = alloca i32, align 4ptr 4 

Instruction:   %63 = alloca float, align 4ptr 4 

Instruction:   %66 = alloca i64, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %10, align 8
ptr addrspace(1) %0 
Instruction2:   store i32 %1, ptr %13, align 4
i32 %1 
Instruction2:   store i32 %2, ptr %16, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %19, align 4
i32 %3 
Instruction2:   store ptr addrspace(1) %4, ptr %22, align 8
ptr addrspace(1) %4 
Instruction2:   store ptr addrspace(1) %5, ptr %25, align 8
ptr addrspace(1) %5 
Instruction2:   store ptr addrspace(1) %6, ptr %28, align 8
ptr addrspace(1) %6 
Instruction2:   store ptr addrspace(1) %7, ptr %31, align 8
ptr addrspace(1) %7Remove the casted instructions
Change Atomics
Function: _Z14invert_mappingPfS_ii
Function: _Z11kmeansPointPfiiiPiS_S_S0_
Running Texture Memory Process on Module 
Number of Texture Memories 3 
t_features
t_features_flipped
t_clusters
Function: _Z14invert_mappingPfS_ii
 
 First   %5 = alloca ptr, align 8, addrspace(5) 
  %40 = getelementptr inbounds float, ptr %33, i64 %39
  %49 = getelementptr inbounds float, ptr %42, i64 %48Function: _Z11kmeansPointPfiiiPiS_S_S0_

 First   %9 = alloca ptr, align 8, addrspace(5) 
@t_features = addrspace(1) externally_initialized global %struct.texture undef foound 

  %93 = load %struct.textureReference, ptr %90, align 88202  %100 = getelementptr inbounds [1088 x float], ptr addrspacecast (ptr addrspace(4) @c_clusters to ptr), i64 0, i64 %99
  %133 = getelementptr inbounds i32, ptr %130, i64 %132

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/llvm-link -o kmeans_cuda-cuda.translated.linked.bc /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll.translated_test.bc /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-gridblock-size.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-math.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cuda2gcn.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/atomic.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureInt2DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat1DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat4_1DReadMode.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple amdgcn-amd-amdhsa -aux-triple x86_64-unknown-linux-gnu -S -main-file-name kmeans_cuda.cu -save-temps=cwd[@] -O0 -target-cpu gfx90a -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -fPIC -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -o kmeans_cuda-cuda.translated.s -x ir kmeans_cuda-cuda.translated.linked.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

[0;1;31merror: [0m[1munknown argument: '-fPIC'[0m

Program exited with code: 1
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ kmeans_cuda.cu -c -O0 --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc -x cuda-cpp-output kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for sm_35.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s -x ir kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/cuda-11.5/bin/ptxas" -m64 -O0 -v --gpu-name sm_35 --output-file kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
ptxas info    : 4 bytes gmem, 4352 bytes cmem[3]
ptxas info    : Compiling entry function '_Z11kmeansPointPfiiiPiS_S_S0_' for 'sm_35'
ptxas info    : Function properties for _Z11kmeansPointPfiiiPiS_S_S0_
    240 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 19 registers, 380 bytes cmem[0], 1 textures
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Compiling entry function '_Z14invert_mappingPfS_ii' for 'sm_35'
ptxas info    : Function properties for _Z14invert_mappingPfS_ii
    32 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 12 registers, 344 bytes cmem[0]
 "/nethome/jchen706/cuda-11.5/bin/fatbinary" -64 --create kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin --image=profile=sm_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin --image=profile=compute_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -fcuda-include-gpubinary kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.bc -x cuda-cpp-output kmeans_cuda-host-x86_64-unknown-linux-gnu.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for host.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.s -x ir kmeans_cuda-host-x86_64-unknown-linux-gnu.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o kmeans_cuda.o kmeans_cuda-host-x86_64-unknown-linux-gnu.s

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/kernelTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

Identified a new cuda kernel _Z14invert_mappingPfS_ii
Called replace_intrinsics on _Z14invert_mappingPfS_ii
Running vprintf pass on function _Z14invert_mappingPfS_ii
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
math fn pass
Called replace_intrinsics on _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workitem.id.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workgroup.id.x
math fn pass
Identified a new cuda kernel _Z11kmeansPointPfiiiPiS_S_S0_
Called replace_intrinsics on _Z11kmeansPointPfiiiPiS_S_S0_
Running vprintf pass on function _Z11kmeansPointPfiiiPiS_S_S0_
Called function: _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.nvvm.texsurf.handle.internal.p1
Called function: _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
math fn pass
Called replace_intrinsics on _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.nctaid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: llvm.amdgcn.workgroup.id.y
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.y
math fn pass
Called replace_intrinsics on _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Running vprintf pass on function _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Called function: _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Called function: _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Called function: _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Called function: _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
math fn pass
Running Shared Memory Process on Module 
Constant Memory Variable: c_clusters
Address Space Cast on _Z14invert_mappingPfS_ii
Get all the type of each parameter 
ptr 1 
ptr 1 
i32 1 
i32 1 
Instruction:   %5 = alloca ptr, align 8Function Argument Number 4 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %8 = alloca ptr, align 8ptr 4 

Instruction:   %11 = alloca i32, align 4ptr 4 

Instruction:   %14 = alloca i32, align 4ptr 4 

Instruction:   %17 = alloca i32, align 4ptr 4 

Instruction:   %20 = alloca i32, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %6, align 8
ptr addrspace(1) %0 
Instruction2:   store ptr addrspace(1) %1, ptr %9, align 8
ptr addrspace(1) %1 
Instruction2:   store i32 %2, ptr %12, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %15, align 4
i32 %3Remove the casted instructions
Address Space Cast on _Z11kmeansPointPfiiiPiS_S_S0_
Get all the type of each parameter 
ptr 1 
i32 1 
i32 1 
i32 1 
ptr 1 
ptr 1 
ptr 1 
ptr 1 
 
Instruction:   %9 = alloca ptr, align 8Function Argument Number 8 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %12 = alloca i32, align 4ptr 4 

Instruction:   %15 = alloca i32, align 4ptr 4 

Instruction:   %18 = alloca i32, align 4ptr 4 

Instruction:   %21 = alloca ptr, align 8ptr 4 

Instruction:   %24 = alloca ptr, align 8ptr 4 

Instruction:   %27 = alloca ptr, align 8ptr 4 

Instruction:   %30 = alloca ptr, align 8ptr 4 

Instruction:   %33 = alloca i32, align 4ptr 4 

Instruction:   %36 = alloca i32, align 4ptr 4 

Instruction:   %39 = alloca i32, align 4ptr 4 

Instruction:   %42 = alloca i32, align 4ptr 4 

Instruction:   %45 = alloca i32, align 4ptr 4 

Instruction:   %48 = alloca float, align 4ptr 4 

Instruction:   %51 = alloca float, align 4ptr 4 

Instruction:   %54 = alloca i32, align 4ptr 4 

Instruction:   %57 = alloca float, align 4ptr 4 

Instruction:   %60 = alloca i32, align 4ptr 4 

Instruction:   %63 = alloca float, align 4ptr 4 

Instruction:   %66 = alloca i64, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %10, align 8
ptr addrspace(1) %0 
Instruction2:   store i32 %1, ptr %13, align 4
i32 %1 
Instruction2:   store i32 %2, ptr %16, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %19, align 4
i32 %3 
Instruction2:   store ptr addrspace(1) %4, ptr %22, align 8
ptr addrspace(1) %4 
Instruction2:   store ptr addrspace(1) %5, ptr %25, align 8
ptr addrspace(1) %5 
Instruction2:   store ptr addrspace(1) %6, ptr %28, align 8
ptr addrspace(1) %6 
Instruction2:   store ptr addrspace(1) %7, ptr %31, align 8
ptr addrspace(1) %7Remove the casted instructions
Change Atomics
Function: _Z14invert_mappingPfS_ii
Function: _Z11kmeansPointPfiiiPiS_S_S0_
Running Texture Memory Process on Module 
Number of Texture Memories 3 
t_features
t_features_flipped
t_clusters
Function: _Z14invert_mappingPfS_ii
 
 First   %5 = alloca ptr, align 8, addrspace(5) 
  %40 = getelementptr inbounds float, ptr %33, i64 %39
  %49 = getelementptr inbounds float, ptr %42, i64 %48Function: _Z11kmeansPointPfiiiPiS_S_S0_

 First   %9 = alloca ptr, align 8, addrspace(5) 
@t_features = addrspace(1) externally_initialized global %struct.texture undef foound 

  %93 = load %struct.textureReference, ptr %90, align 88202  %100 = getelementptr inbounds [1088 x float], ptr addrspacecast (ptr addrspace(4) @c_clusters to ptr), i64 0, i64 %99
  %133 = getelementptr inbounds i32, ptr %130, i64 %132

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/llvm-link -o kmeans_cuda-cuda.translated.linked.bc /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll.translated_test.bc /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-gridblock-size.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-math.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cuda2gcn.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/atomic.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureInt2DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat1DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat4_1DReadMode.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple amdgcn-amd-amdhsa -aux-triple x86_64-unknown-linux-gnu -S -main-file-name kmeans_cuda.cu -save-temps=cwd[@] -O0 -target-cpu gfx90a -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -o kmeans_cuda-cuda.translated.s -x ir kmeans_cuda-cuda.translated.linked.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple amdgcn-amd-amdhsa -filetype obj -main-file-name kmeans_cuda.cu -target-cpu gfx90a -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -fPIC -o kmeans_cuda-cuda.translated.o kmeans_cuda-cuda.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1as: error: unknown argument: '-fPIC'

Program exited with code: 1
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ kmeans_cuda.cu -c -O0 --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc -x cuda-cpp-output kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for sm_35.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s -x ir kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/cuda-11.5/bin/ptxas" -m64 -O0 -v --gpu-name sm_35 --output-file kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
ptxas info    : 4 bytes gmem, 4352 bytes cmem[3]
ptxas info    : Compiling entry function '_Z11kmeansPointPfiiiPiS_S_S0_' for 'sm_35'
ptxas info    : Function properties for _Z11kmeansPointPfiiiPiS_S_S0_
    240 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 19 registers, 380 bytes cmem[0], 1 textures
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Compiling entry function '_Z14invert_mappingPfS_ii' for 'sm_35'
ptxas info    : Function properties for _Z14invert_mappingPfS_ii
    32 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 12 registers, 344 bytes cmem[0]
 "/nethome/jchen706/cuda-11.5/bin/fatbinary" -64 --create kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin --image=profile=sm_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin --image=profile=compute_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -fcuda-include-gpubinary kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.bc -x cuda-cpp-output kmeans_cuda-host-x86_64-unknown-linux-gnu.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for host.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.s -x ir kmeans_cuda-host-x86_64-unknown-linux-gnu.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o kmeans_cuda.o kmeans_cuda-host-x86_64-unknown-linux-gnu.s

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/kernelTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

Identified a new cuda kernel _Z14invert_mappingPfS_ii
Called replace_intrinsics on _Z14invert_mappingPfS_ii
Running vprintf pass on function _Z14invert_mappingPfS_ii
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
math fn pass
Called replace_intrinsics on _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workitem.id.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workgroup.id.x
math fn pass
Identified a new cuda kernel _Z11kmeansPointPfiiiPiS_S_S0_
Called replace_intrinsics on _Z11kmeansPointPfiiiPiS_S_S0_
Running vprintf pass on function _Z11kmeansPointPfiiiPiS_S_S0_
Called function: _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.nvvm.texsurf.handle.internal.p1
Called function: _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
math fn pass
Called replace_intrinsics on _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.nctaid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: llvm.amdgcn.workgroup.id.y
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.y
math fn pass
Called replace_intrinsics on _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Running vprintf pass on function _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Called function: _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Called function: _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Called function: _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Called function: _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
math fn pass
Running Shared Memory Process on Module 
Constant Memory Variable: c_clusters
Address Space Cast on _Z14invert_mappingPfS_ii
Get all the type of each parameter 
ptr 1 
ptr 1 
i32 1 
i32 1 
Instruction:   %5 = alloca ptr, align 8Function Argument Number 4 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %8 = alloca ptr, align 8ptr 4 

Instruction:   %11 = alloca i32, align 4ptr 4 

Instruction:   %14 = alloca i32, align 4ptr 4 

Instruction:   %17 = alloca i32, align 4ptr 4 

Instruction:   %20 = alloca i32, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %6, align 8
ptr addrspace(1) %0 
Instruction2:   store ptr addrspace(1) %1, ptr %9, align 8
ptr addrspace(1) %1 
Instruction2:   store i32 %2, ptr %12, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %15, align 4
i32 %3Remove the casted instructions
Address Space Cast on _Z11kmeansPointPfiiiPiS_S_S0_
Get all the type of each parameter 
ptr 1 
i32 1 
i32 1 
i32 1 
ptr 1 
ptr 1 
ptr 1 
ptr 1 
 
Instruction:   %9 = alloca ptr, align 8Function Argument Number 8 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %12 = alloca i32, align 4ptr 4 

Instruction:   %15 = alloca i32, align 4ptr 4 

Instruction:   %18 = alloca i32, align 4ptr 4 

Instruction:   %21 = alloca ptr, align 8ptr 4 

Instruction:   %24 = alloca ptr, align 8ptr 4 

Instruction:   %27 = alloca ptr, align 8ptr 4 

Instruction:   %30 = alloca ptr, align 8ptr 4 

Instruction:   %33 = alloca i32, align 4ptr 4 

Instruction:   %36 = alloca i32, align 4ptr 4 

Instruction:   %39 = alloca i32, align 4ptr 4 

Instruction:   %42 = alloca i32, align 4ptr 4 

Instruction:   %45 = alloca i32, align 4ptr 4 

Instruction:   %48 = alloca float, align 4ptr 4 

Instruction:   %51 = alloca float, align 4ptr 4 

Instruction:   %54 = alloca i32, align 4ptr 4 

Instruction:   %57 = alloca float, align 4ptr 4 

Instruction:   %60 = alloca i32, align 4ptr 4 

Instruction:   %63 = alloca float, align 4ptr 4 

Instruction:   %66 = alloca i64, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %10, align 8
ptr addrspace(1) %0 
Instruction2:   store i32 %1, ptr %13, align 4
i32 %1 
Instruction2:   store i32 %2, ptr %16, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %19, align 4
i32 %3 
Instruction2:   store ptr addrspace(1) %4, ptr %22, align 8
ptr addrspace(1) %4 
Instruction2:   store ptr addrspace(1) %5, ptr %25, align 8
ptr addrspace(1) %5 
Instruction2:   store ptr addrspace(1) %6, ptr %28, align 8
ptr addrspace(1) %6 
Instruction2:   store ptr addrspace(1) %7, ptr %31, align 8
ptr addrspace(1) %7Remove the casted instructions
Change Atomics
Function: _Z14invert_mappingPfS_ii
Function: _Z11kmeansPointPfiiiPiS_S_S0_
Running Texture Memory Process on Module 
Number of Texture Memories 3 
t_features
t_features_flipped
t_clusters
Function: _Z14invert_mappingPfS_ii
 
 First   %5 = alloca ptr, align 8, addrspace(5) 
  %40 = getelementptr inbounds float, ptr %33, i64 %39
  %49 = getelementptr inbounds float, ptr %42, i64 %48Function: _Z11kmeansPointPfiiiPiS_S_S0_

 First   %9 = alloca ptr, align 8, addrspace(5) 
@t_features = addrspace(1) externally_initialized global %struct.texture undef foound 

  %93 = load %struct.textureReference, ptr %90, align 88202  %100 = getelementptr inbounds [1088 x float], ptr addrspacecast (ptr addrspace(4) @c_clusters to ptr), i64 0, i64 %99
  %133 = getelementptr inbounds i32, ptr %130, i64 %132

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/llvm-link -o kmeans_cuda-cuda.translated.linked.bc /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.ll.translated_test.bc /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-gridblock-size.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-math.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cuda2gcn.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/atomic.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureInt2DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat1DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat4_1DReadMode.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple amdgcn-amd-amdhsa -aux-triple x86_64-unknown-linux-gnu -S -main-file-name kmeans_cuda.cu -save-temps=cwd[@] -O0 -target-cpu gfx90a -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -o kmeans_cuda-cuda.translated.s -x ir kmeans_cuda-cuda.translated.linked.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple amdgcn-amd-amdhsa -filetype obj -main-file-name kmeans_cuda.cu -target-cpu gfx90a -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -o kmeans_cuda-cuda.translated.o kmeans_cuda-cuda.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang-offload-bundler -unbundle -type=a -input=/nethome/jchen706/opt/llvm/lib/clang/16.0.0/lib/x86_64-unknown-linux-gnu/libclang_rt.builtins.a -targets=hip-amdgcn-amd-amdhsa-gfx90a -output=libbc-clang_rt.builtins.amdgcn.a -allow-missing-bundles -hip-openmp-compatible
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/lld -flavor gnu --no-undefined -shared -plugin-opt=-amdgpu-internalize-symbols -plugin-opt=mcpu=gfx90a -plugin-opt=O0 -plugin-opt=-amdgpu-early-inline-all=true -plugin-opt=-amdgpu-function-calls=false -save-temps -fPIC -o kmeans_cuda-cuda.translated.out kmeans_cuda-cuda.translated.o /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ockl.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ocml.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_abi_version_400.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_finite_only_off.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_unsafe_math_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_daz_opt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_correctly_rounded_sqrt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_isa_version_90a.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_wavefrontsize64_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//opencl.bc libbc-clang_rt.builtins.amdgcn.a
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

lld: error: unknown argument '-fPIC'

Program exited with code: 1
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ kmeans_cuda.cu -c -O0 --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -cuid=e9b860df39225b82 -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc -x cuda-cpp-output kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for sm_35.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple nvptx64-nvidia-cuda -aux-triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fno-rounding-math -fno-verbose-asm -no-integrated-as -aux-target-cpu x86-64 -fcuda-is-device -mllvm -enable-memcpyopt-without-libcalls -mlink-builtin-bitcode /nethome/jchen706/cuda-11.5/nvvm/libdevice/libdevice.10.bc -target-sdk-version=11.5 -target-cpu sm_35 -target-feature +ptx75 -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -fno-dwarf-directory-asm -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -o kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s -x ir kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/cuda-11.5/bin/ptxas" -m64 -O0 -v --gpu-name sm_35 --output-file kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
ptxas info    : 4 bytes gmem, 4352 bytes cmem[3]
ptxas info    : Compiling entry function '_Z11kmeansPointPfiiiPiS_S_S0_' for 'sm_35'
ptxas info    : Function properties for _Z11kmeansPointPfiiiPiS_S_S0_
    240 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 19 registers, 380 bytes cmem[0], 1 textures
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Function properties for _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
    0 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Compiling entry function '_Z14invert_mappingPfS_ii' for 'sm_35'
ptxas info    : Function properties for _Z14invert_mappingPfS_ii
    32 bytes stack frame, 0 bytes spill stores, 0 bytes spill loads
ptxas info    : Used 12 registers, 344 bytes cmem[0]
 "/nethome/jchen706/cuda-11.5/bin/fatbinary" -64 --create kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin --image=profile=sm_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.cubin --image=profile=compute_35,file=kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.s
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers -include __clang_cuda_runtime_wrapper.h -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -internal-isystem /nethome/jchen706/cuda-11.5/include -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.cui -x cuda kmeans_cuda.cu
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux"
ignoring duplicate directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward"
ignoring duplicate directory "/nethome/jchen706/opt/llvm/lib/clang/16.0.0/include"
ignoring duplicate directory "/usr/local/include"
ignoring duplicate directory "/usr/include"
ignoring duplicate directory "/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include"
  as it is a non-system directory that duplicates a system directory
#include "..." search starts here:
#include <...> search starts here:
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include/cuda_wrappers
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -fcuda-include-gpubinary kmeans_cuda.cu-cuda-nvptx64-nvidia-cuda.fatbin -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.bc -x cuda-cpp-output kmeans_cuda-host-x86_64-unknown-linux-gnu.cui
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
In file included from kmeans_cuda.cu:15:
./kmeans_cuda_kernel.cu:89:19: warning: 'tex1Dfetch<float>' is deprecated [-Wdeprecated-declarations]
    float diff = (tex1Dfetch(t_features,addr) -
                  ^
/nethome/jchen706/cuda-11.5/include/texture_fetch_functions.h:132:23: note: 'tex1Dfetch<float>' has been explicitly marked deprecated here
static __attribute__((deprecated)) __inline__ __attribute__((always_inline)) __attribute__((device)) typename __nv_tex_rmet_ret<T>::type tex1Dfetch(texture<T, 0x01, cudaReadModeElementType> t, int x)
                      ^
kmeans_cuda.cu:169:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:169:96: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features, feature_d, &chDesc0, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:177:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:177:112: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_features_flipped, feature_flipped_d, &chDesc1, npoints*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:185:5: warning: 'cudaBindTexture' is deprecated [-Wdeprecated-declarations]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:8581:23: note: 'cudaBindTexture' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaBindTexture(size_t *offset, const struct textureReference *texref, const void *devPtr, const struct cudaChannelFormatDesc *desc, size_t size = (2147483647 *2U +1U));
                      ^
kmeans_cuda.cu:185:99: warning: comparison of different enumeration types ('cudaError_t' (aka 'cudaError') and 'cudaError_enum') [-Wenum-compare]
 if(cudaBindTexture(__null, &t_clusters, clusters_d, &chDesc2, nclusters*nfeatures*sizeof(float)) != CUDA_SUCCESS)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~
kmeans_cuda.cu:207:2: warning: 'cudaThreadSynchronize' is deprecated [-Wdeprecated-declarations]
 cudaThreadSynchronize();
 ^
/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include/cuda_runtime_api.h:1053:23: note: 'cudaThreadSynchronize' has been explicitly marked deprecated here
extern __attribute__((deprecated)) __attribute__((host)) cudaError_t cudaThreadSynchronize(void);
                      ^
8 warnings generated when compiling for host.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -target-sdk-version=11.5 -aux-triple nvptx64-nvidia-cuda -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -cuid=e9b860df39225b82 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host-x86_64-unknown-linux-gnu.s -x ir kmeans_cuda-host-x86_64-unknown-linux-gnu.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o kmeans_cuda.o kmeans_cuda-host-x86_64-unknown-linux-gnu.s

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/kernelTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

Identified a new cuda kernel _Z14invert_mappingPfS_ii
Called replace_intrinsics on _Z14invert_mappingPfS_ii
Running vprintf pass on function _Z14invert_mappingPfS_ii
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
math fn pass
Called replace_intrinsics on _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workitem.id.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: llvm.amdgcn.workgroup.id.x
math fn pass
Identified a new cuda kernel _Z11kmeansPointPfiiiPiS_S_S0_
Called replace_intrinsics on _Z11kmeansPointPfiiiPiS_S_S0_
Running vprintf pass on function _Z11kmeansPointPfiiiPiS_S_S0_
Called function: _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_xEv
Called function: _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: _ZN26__cuda_builtin_threadIdx_t17__fetch_builtin_xEv
Called function: llvm.nvvm.texsurf.handle.internal.p1
Called function: _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
math fn pass
Called replace_intrinsics on _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN24__cuda_builtin_gridDim_t17__fetch_builtin_xEv
Called function: cudaamd.nvvm.read.ptx.sreg.nctaid.x
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockIdx_t17__fetch_builtin_yEv
Called function: llvm.amdgcn.workgroup.id.y
math fn pass
Called replace_intrinsics on _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Found new intrinsics to replace...
Running vprintf pass on function _ZN25__cuda_builtin_blockDim_t17__fetch_builtin_yEv
Called function: cudaamd.nvvm.read.ptx.sreg.ntid.y
math fn pass
Called replace_intrinsics on _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Running vprintf pass on function _ZL10tex1DfetchIfEN17__nv_tex_rmet_retIT_E4typeE7textureIS1_Li1EL19cudaTextureReadMode0EEi
Called function: _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex11__tex_fetchINS0_5__TagILi95EEEf7textureIfLi1EL19cudaTextureReadMode0EEJiEEEvPT0_T1_DpT2_
Called function: _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Called function: _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Called function: _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex9__convertIf6float4E5__runILi1EEEfS2_
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex14__tex_fetch_v4INS0_5__TagILi95EEEE5__runI6float4EET_yi
math fn pass
Called replace_intrinsics on _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
Running vprintf pass on function _ZN12_GLOBAL__N_110__cuda_tex19__tex_handle_to_objI7textureIfLi1EL19cudaTextureReadMode0EEEEyT_
math fn pass
Running Shared Memory Process on Module 
Constant Memory Variable: c_clusters
Address Space Cast on _Z14invert_mappingPfS_ii
Get all the type of each parameter 
ptr 1 
ptr 1 
i32 1 
i32 1 
Instruction:   %5 = alloca ptr, align 8Function Argument Number 4 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %8 = alloca ptr, align 8ptr 4 

Instruction:   %11 = alloca i32, align 4ptr 4 

Instruction:   %14 = alloca i32, align 4ptr 4 

Instruction:   %17 = alloca i32, align 4ptr 4 

Instruction:   %20 = alloca i32, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %6, align 8
ptr addrspace(1) %0 
Instruction2:   store ptr addrspace(1) %1, ptr %9, align 8
ptr addrspace(1) %1 
Instruction2:   store i32 %2, ptr %12, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %15, align 4
i32 %3Remove the casted instructions
Address Space Cast on _Z11kmeansPointPfiiiPiS_S_S0_
Get all the type of each parameter 
ptr 1 
i32 1 
i32 1 
i32 1 
ptr 1 
ptr 1 
ptr 1 
ptr 1 
 
Instruction:   %9 = alloca ptr, align 8Function Argument Number 8 
Replace all uses of the old function with the new function 
Address Space Cast Alloca Instructions
ptr 4 

Instruction:   %12 = alloca i32, align 4ptr 4 

Instruction:   %15 = alloca i32, align 4ptr 4 

Instruction:   %18 = alloca i32, align 4ptr 4 

Instruction:   %21 = alloca ptr, align 8ptr 4 

Instruction:   %24 = alloca ptr, align 8ptr 4 

Instruction:   %27 = alloca ptr, align 8ptr 4 

Instruction:   %30 = alloca ptr, align 8ptr 4 

Instruction:   %33 = alloca i32, align 4ptr 4 

Instruction:   %36 = alloca i32, align 4ptr 4 

Instruction:   %39 = alloca i32, align 4ptr 4 

Instruction:   %42 = alloca i32, align 4ptr 4 

Instruction:   %45 = alloca i32, align 4ptr 4 

Instruction:   %48 = alloca float, align 4ptr 4 

Instruction:   %51 = alloca float, align 4ptr 4 

Instruction:   %54 = alloca i32, align 4ptr 4 

Instruction:   %57 = alloca float, align 4ptr 4 

Instruction:   %60 = alloca i32, align 4ptr 4 

Instruction:   %63 = alloca float, align 4ptr 4 

Instruction:   %66 = alloca i64, align 4ptr 4 

Instruction2:   store ptr addrspace(1) %0, ptr %10, align 8
ptr addrspace(1) %0 
Instruction2:   store i32 %1, ptr %13, align 4
i32 %1 
Instruction2:   store i32 %2, ptr %16, align 4
i32 %2 
Instruction2:   store i32 %3, ptr %19, align 4
i32 %3 
Instruction2:   store ptr addrspace(1) %4, ptr %22, align 8
ptr addrspace(1) %4 
Instruction2:   store ptr addrspace(1) %5, ptr %25, align 8
ptr addrspace(1) %5 
Instruction2:   store ptr addrspace(1) %6, ptr %28, align 8
ptr addrspace(1) %6 
Instruction2:   store ptr addrspace(1) %7, ptr %31, align 8
ptr addrspace(1) %7Remove the casted instructions
Change Atomics
Function: _Z14invert_mappingPfS_ii
Function: _Z11kmeansPointPfiiiPiS_S_S0_
Running Texture Memory Process on Module 
Number of Texture Memories 3 
t_features
t_features_flipped
t_clusters
Function: _Z14invert_mappingPfS_ii
 
 First   %5 = alloca ptr, align 8, addrspace(5) 
  %40 = getelementptr inbounds float, ptr %33, i64 %39
  %49 = getelementptr inbounds float, ptr %42, i64 %48Function: _Z11kmeansPointPfiiiPiS_S_S0_

 First   %9 = alloca ptr, align 8, addrspace(5) 
@t_features = addrspace(1) externally_initialized global %struct.texture undef foound 

  %93 = load %struct.textureReference, ptr %90, align 88202  %100 = getelementptr inbounds [1088 x float], ptr addrspacecast (ptr addrspace(4) @c_clusters to ptr), i64 0, i64 %99
  %133 = getelementptr inbounds i32, ptr %130, i64 %132

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/llvm-link -o kmeans_cuda-cuda.translated.linked.bc /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-cuda-nvptx64-nvidia-cuda-sm_35.bc.translated_test.bc /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-gridblock-size.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cudaamd-math.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/cuda2gcn.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/atomic.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureInt2DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat1DReadMode.ll /nethome/jchen706/coding/code2/amdcuda/bitcode/textureFloat4_1DReadMode.ll
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple amdgcn-amd-amdhsa -aux-triple x86_64-unknown-linux-gnu -S -main-file-name kmeans_cuda.cu -save-temps=cwd[@] -O0 -target-cpu gfx90a -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -fno-autolink -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -o kmeans_cuda-cuda.translated.s -x ir kmeans_cuda-cuda.translated.linked.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple amdgcn-amd-amdhsa -filetype obj -main-file-name kmeans_cuda.cu -target-cpu gfx90a -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -o kmeans_cuda-cuda.translated.o kmeans_cuda-cuda.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang-offload-bundler -unbundle -type=a -input=/nethome/jchen706/opt/llvm/lib/clang/16.0.0/lib/x86_64-unknown-linux-gnu/libclang_rt.builtins.a -targets=hip-amdgcn-amd-amdhsa-gfx90a -output=libbc-clang_rt.builtins.amdgcn.a -allow-missing-bundles -hip-openmp-compatible
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/lld -flavor gnu --no-undefined -shared -plugin-opt=-amdgpu-internalize-symbols -plugin-opt=mcpu=gfx90a -plugin-opt=O0 -plugin-opt=-amdgpu-early-inline-all=true -plugin-opt=-amdgpu-function-calls=false -save-temps -o kmeans_cuda-cuda.translated.out kmeans_cuda-cuda.translated.o /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ockl.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//ocml.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_abi_version_400.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_finite_only_off.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_unsafe_math_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_daz_opt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_correctly_rounded_sqrt_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_isa_version_90a.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//oclc_wavefrontsize64_on.bc /nethome/jchen706/ROCm-Device-Libs/install/amdgcn/bitcode//opencl.bc libbc-clang_rt.builtins.amdgcn.a
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang-offload-bundler -type=o -bundle-align=4096 -targets=host-x86_64-unknown-linux,hipv4-amdgcn-amd-amdhsa--gfx90a -input=/dev/null -input=kmeans_cuda-cuda.translated.out -output=kmeans_cuda-cuda.translated.hipfb
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/coding/code2/amdcuda/build/compilation/hostTranslator /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-host-x86_64-unknown-linux-gnu.bc kmeans_cuda-cuda.translated.hipfb
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
 No __cuda_fatbin_wrapper or bug.
argc=3
t_features
t_features_flipped
t_clusters
c_clusters
num_threads_perdim
num_blocks_perdim
num_threads
num_blocks
membership_new
feature_d
feature_flipped_d
membership_d
block_new_centers
clusters_d
block_clusters_d
block_deltas_d
.str
.str.5
.str.6
.str.7
__cuda_fatbin_wrapper
__cuda_gpubin_handle
llvm.global_ctors
_cupbop_amdgpu_fatbin_wrapper

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1 -triple x86_64-unknown-linux-gnu -aux-triple amdgcn-amd-amdhsa -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name kmeans_cuda.cu -mrelocation-model pic -pic-level 2 -pic-is-pie -mframe-pointer=none -fmath-errno -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -fhip-new-launch-api -fgnuc-version=4.2.1 -fcolor-diagnostics -vectorize-loops -vectorize-slp -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -cuid=7426647a80c85315 -fcuda-allow-variadic-functions -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o kmeans_cuda-host.translated.s -x ir /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans/kmeans_cuda-host-x86_64-unknown-linux-gnu.bc.translated_test.bc
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu

Program exited with code: 0
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name kmeans_cuda.cu -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic --mrelax-relocations -mllvm -amdgpu-early-inline-all=true -mllvm -amdgpu-function-calls=false -o kmeans_cuda-host.translated.o kmeans_cuda-host.translated.s
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans


Program exited with code: 0
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Running command: /nethome/jchen706/opt/llvm/bin/clang++ cluster.c -c -O0 --cuda-path=/nethome/jchen706/cuda-11.5 --cuda-gpu-arch=sm_35 -L/nethome/jchen706/cuda-11.5/lib64 -lcudart_static -ldl -lrt -pthread -save-temps -fPIC -v
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans

clang version 16.0.0 (https://github.com/llvm/llvm-project.git 159fb378f779ac79f7d456ea233892ad526b56d8)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /nethome/jchen706/opt/llvm/bin
Found candidate GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Selected GCC installation: /usr/lib/gcc/x86_64-redhat-linux/8
Candidate multilib: .;@m64
Candidate multilib: 32;@m32
Selected multilib: .;@m64
Found CUDA installation: /nethome/jchen706/cuda-11.5, version 11.5
Found HIP installation: /nethome/jchen706/opt, version 3.5.0
clang-16: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated [-Wdeprecated]
clang-16: warning: -lcudart_static: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -ldl: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: -lrt: 'linker' input unused [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '--cuda-gpu-arch=sm_35' [-Wunused-command-line-argument]
clang-16: warning: argument unused during compilation: '-L/nethome/jchen706/cuda-11.5/lib64' [-Wunused-command-line-argument]
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -E -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -I/nethome/jchen706/cuda-11.5/targets/x86_64-linux/include -I. -cxx-isystem /nethome/jchen706/opt/hsa/ -cxx-isystem /nethome/jchen706/prefix/usr/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8 -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward -internal-isystem /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include -internal-isystem /usr/local/include -internal-isystem /usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.ii -x c++ cluster.c
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
ignoring nonexistent directory "/usr/lib/gcc/x86_64-redhat-linux/8/../../../../x86_64-redhat-linux/include"
ignoring nonexistent directory "/include"
#include "..." search starts here:
#include <...> search starts here:
 /nethome/jchen706/cuda-11.5/targets/x86_64-linux/include
 .
 /nethome/jchen706/opt/hsa
 /nethome/jchen706/prefix/usr/include
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/x86_64-redhat-linux
 /usr/lib/gcc/x86_64-redhat-linux/8/../../../../include/c++/8/backward
 /nethome/jchen706/opt/llvm/lib/clang/16.0.0/include
 /usr/local/include
 /usr/include
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -emit-llvm-bc -emit-llvm-uselists -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdeprecated-macro -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -fcxx-exceptions -fexceptions -disable-llvm-passes -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.bc -x c++-cpp-output cluster.ii
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
#include "..." search starts here:
End of search list.
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1 -triple x86_64-unknown-linux-gnu -S -save-temps=cwd -disable-free -clear-ast-before-backend -disable-llvm-verifier -discard-value-names -main-file-name cluster.c -mrelocation-model pic -pic-level 2 -fhalf-no-semantic-interposition -mframe-pointer=all -fmath-errno -ffp-contract=on -fno-rounding-math -mconstructor-aliases -funwind-tables=2 -target-cpu x86-64 -tune-cpu generic -mllvm -treat-scalable-fixed-error-as-warning -debugger-tuning=gdb -v -fcoverage-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -resource-dir /nethome/jchen706/opt/llvm/lib/clang/16.0.0 -O0 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -ferror-limit 19 -pthread -fgnuc-version=4.2.1 -faddrsig -D__GCC_HAVE_DWARF2_CFI_ASM=1 -o cluster.s -x ir cluster.bc
clang -cc1 version 16.0.0 based upon LLVM 16.0.0git default target x86_64-unknown-linux-gnu
 "/nethome/jchen706/opt/llvm/bin/clang-16" -cc1as -triple x86_64-unknown-linux-gnu -filetype obj -main-file-name cluster.c -target-cpu x86-64 -fdebug-compilation-dir=/nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans -dwarf-version=5 -mrelocation-model pic -mrelax-all --mrelax-relocations -o cluster.o cluster.s

Program exited with code: 0
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

===================================================
Changing directory to: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
Working directory: /nethome/jchen706/coding/code2/amdcuda/benchmarks/rodinia/kmeans
===================================================

